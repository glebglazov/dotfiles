{{ if (eq .chezmoi.os "darwin") -}}

{{ $taps := list
  "hashicorp/tap"
  "homebrew/autoupdate"
  "homebrew/bundle"
  "homebrew/cask"
  "homebrew/cask-fonts"
  "homebrew/core"
  "homebrew/services"
  "reviewdog/tap"
-}}

{{ $casks := list
  "alacritty"
  "font-hack-nerd-font"
  "raycast"
  "obsidian"
  "telegram"
  "whatsapp"
  "viber"
  "skype"
  "postman"
  "slack"
  "spotify"
  "zoom"
  "cleanmymac"
  "docker"
  "orbstack"
  "1password/tap/1password-cli"
  "karabiner-elements"
  "nordvpn"
  "readdle-spark"
-}}

{{ $brews := list
  "gdbm"
  "gh"
  "libyaml"
  "readline"
  "python"
  "ansible"
  "apr-util"
  "automake"
  "coreutils"
  "unixodbc"
  "awscli"
  "bison"
  "libffi"
  "unbound"
  "gnutls"
  "cask"
  "cmake"
  "fd"
  "fonttools"
  "fzf"
  "htop"
  "openjdk"
  "jq"
  "libfido2"
  "md5deep"
  "mosh"
  "mysql@5.7"
  "mysql-client"
  "nvim"
  "postgresql"
  "rbspy"
  "redis"
  "ripgrep"
  "subversion"
  "tig"
  "tmux"
  "wget"
  "keychain"
  "direnv"
  "cloc"
  "watch"
  "k6"
  "kubectl"
  "koekeishiya/formulae/yabai"
  "koekeishiya/formulae/skhd"
  "rtx"
  "tflint"
  "bfg"
  "gpg"
  "lazygit"
  "planetscale/tap/pscale"
-}}

{{ $pin_list := list
  "koekeishiya/formulae/yabai"
  "koekeishiya/formulae/skhd"
-}}

#!/bin/bash

brew update

{{ range $taps }}
brew tap {{ . }}
{{ end  }}
brew install --cask {{ $casks | join " " }}
brew install {{ $brews | join " " }}
brew pin {{ $pin_list | join " " }}

{{ end -}}
